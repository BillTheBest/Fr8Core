Notification Services
=====================

[Go to Contents]( /Docs/Home.md)

Notifications are messages intended to be seen by end users, (as distinct from [Events](/Docs/ForDevelopers/OperatingConcepts/Events.md)). They can be divided into two categories: Activity Stream messages and Toast notifications.


## Activity Stream

The primary mechanism for delivering Notifications to users is the Activity Stream, which is based on [Pusher](https://pusher.com/). Messages are displayed in the right-side of the screen. They can be generated by the Hub on behalf of the Terminal, often as a result of an [Activity Response](/Docs/ForDevelopers/Objects/Activities/ActivityResponses.md), or through direct Terminal requests to the Hub.

![ActivityStream](/Docs/img/ActivityStream.png)

There are currently 5 type of Notification messages:

•	Generic Success

•	Generic Failure

•	Generic Info

•	Terminal Event (Used for displaying specific messages generated by terminals during the execution)

•	Execution Stopped

These notification types can report an error of validation, successful execution, or information on terminals/activity states.


Generating a Notification Message
---------------------------------

 Terminals generate notification messages with this call: 


*Url*

	{{Fr8HubCallBackUrl}}/api/{{Fr8HubApiVersion}}/notifications

*Method*

    POST

*Request Body*
```javascript
{
	"ActivityName" : "App_Builder",
	"ActivityVersion": "1",
	"Collapsed": false,
	"Message": "This is a plan message/description",
	"NotificationArea": 1,	// ActvityStream = 1, Toast = 2
	"Subject": "This is a custom (optional) header for message",
	"TerminalName": "terminalFr8Core",
	"TerminalVersion" : "1"
}
```


## Toast Messages

They have similar mechanism as Activity Stream and also uses Pusher service. These messages can be seen in 4 types as: *Success, Error, Info and Alert* (which are implemented with [Noty library](http://ned.im/noty/). Example request for Toast messages can be found down below:

*Url*

	{{Fr8HubCallBackUrl}}/api/{{Fr8HubApiVersion}}/notifications

*Method*

    POST

*Request Body*
```javascript
{
	"ActivityName" : "App_Builder",
	"ActivityVersion": "1",
	"Message": "This is a toast message",
	"NotificationArea": 2,	// ActivityStream = 1, Toast = 2
	"NotificationType": 1,	// Success = 1, Error = 2, Info = 3, Alert = 4
	"TerminalName": "terminalFr8Core",
	"TerminalVersion" : "1"
}
```

It is recommended to use Activity Stream as primary notification method but there can be some special cases more suitable to use Toast messages, like in [App Builder](Docs/ForDevelopers/OperatingConcepts/Apps.md). App Builder Apps are optimized visually for mobile screen sizes, so they haven't got visible Activity Stream. In this case, using toast messages are only way to notifiying users in Kiosk Mode.


[Go to Contents]( /Docs/Home.md)
