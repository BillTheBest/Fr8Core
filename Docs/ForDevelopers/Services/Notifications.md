Notification Services
=====================

[Go to Contents]( /Docs/Home.md)

Notifications are messages intended to be seen by end users, as distinct from [Events](/Docs/ForDevelopers/OperatingConcepts/Events.md). They can be divided to two categories as Activity Stream messages and toast notifications.


## Activity Stream

The primary mechanism for delivering Notifications to users is Activity Stream, which is based on [Pusher](https://pusher.com/). It provide us server-to-client messaging channel per user session and later these messages are displayed in the right-side panel named “Activity Stream”. They can be generated by Hub on behalf of Terminal as a result of [Activity Response](/Docs/ForDevelopers/Objects/Activities/ActivityResponses.md), or by direct terminal requests to the Hub.

![ActivityStream](/Docs/img/ActivityStream.png)

At the moment, there are 5 type of Notification messages at the Activity Stream:

•	Generic Success

•	Generic Failure

•	Generic Info

•	Terminal Event (Used for displaying specific messages generated by terminals during the execution)

•	Execution Stopped

These notification types can report an error of validation, successful execution, or information on terminals/activity states. Although most of the notifications (except "Terminal Event") are pre-defined messages sent by Hub, Terminals can also create their individual notification with a request to Hub:


*Url*

	{{Fr8HubCallBackUrl}}/api/{{Fr8HubApiVersion}}/notifications

*Method*

    POST

*Request Body*
```javascript
{
	"ActivityName" : "App_Builder",
	"ActivityVersion": "1",
	"Collapsed": false,
	"Message": "This is a plan message/description",
	"NotificationArea": 1,	// ActvityStream = 1, Toast = 2
	"Subject": "This is a custom (optional) header for message",
	"TerminalName": "terminalFr8Core",
	"TerminalVersion" : "1"
}
```


## Toast Messages

They have similar mechanism as Activity Stream and also uses Pusher service. These messages can be seen in 4 types as: *Success, Error, Info and Alert* (which are implemented with [Noty library](http://ned.im/noty/). Example request for Toast messages can be found down below:

*Url*

	{{Fr8HubCallBackUrl}}/api/{{Fr8HubApiVersion}}/notifications

*Method*

    POST

*Request Body*
```javascript
{
	"ActivityName" : "App_Builder",
	"ActivityVersion": "1",
	"Message": "This is a toast message",
	"NotificationArea": 2,	// ActivityStream = 1, Toast = 2
	"NotificationType": 1,	// Success = 1, Error = 2, Info = 3, Alert = 4
	"TerminalName": "terminalFr8Core",
	"TerminalVersion" : "1"
}
```

It is recommended to use Activity Stream as primary notification method but there can be some special cases more suitable to use Toast messages, like in [App Builder](Docs/ForDevelopers/OperatingConcepts/Apps.md). App Builder Apps are optimized visually for mobile screen sizes, so they haven't got visible Activity Stream. In this case, using toast messages are only way to notifiying users in Kiosk Mode.


[Go to Contents]( /Docs/Home.md)
