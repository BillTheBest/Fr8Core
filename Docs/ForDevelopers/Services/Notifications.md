Notification Services
=====================

[Go to Contents]( /Docs/Home.md)

Notifications are messages intended to be seen by end users, (as distinct from [Events](/Docs/ForDevelopers/OperatingConcepts/Events.md)). They can be divided into two categories: Activity Stream messages and Toast notifications.


## Activity Stream

The primary mechanism for delivering Notifications to users is the Activity Stream, which is based on [Pusher](https://pusher.com/). Messages are displayed in the right-side of the screen. They can be generated by the Hub on behalf of the Terminal, often as a result of an [Activity Response](/Docs/ForDevelopers/Objects/Activities/ActivityResponses.md), or through direct Terminal requests to the Hub.

![ActivityStream](/Docs/img/ActivityStream.png)

There are currently 5 type of Notification messages:

•	Generic Success

•	Generic Failure

•	Generic Info

•	Terminal Event (Used for displaying specific messages generated by terminals during the execution)

•	Execution Stopped

These notification types can report an error of validation, successful execution, or information on terminals/activity states.


Generating a Notification Message
---------------------------------

 Terminals generate notification messages with this call: 


*Url*

	{{Fr8HubCallBackUrl}}/api/{{Fr8HubApiVersion}}/notifications

*Method*

    POST

*Request Body*
```javascript
{
	"ActivityName" : "App_Builder",
	"ActivityVersion": "1",
	"NotificationType": 1,	// Generic Success = 1, Generic Failure = 2, Generic Info = 3
	"Collapsed": false,
	"Message": "This is a plan message/description",
	"Subject": "This is a custom (optional) header for message",
	"TerminalName": "terminalFr8Core",
	"TerminalVersion" : "1"
}
```

> *NotificationType* - This parameter is only implemented for toast notifications and determines color/priority of messages. Although there are 5 type of notifications, only "Generic Success", "Generic Failure" and "Generic Info" is used in terminal requests. More information can be found down below, in "Toast Notifications".


## Toast Notifications

They uses same mechanism as in Activity Stream and render incoming pusher messages as Toast messages, based on whether there is a Activity Stream panel on screen. With this automatic rendering, developers are not supposed to have to worry about front end layout issues. Only thing to consider is "NotificationType" parameter in request body, which determines type of message in front-end. Toast messages (implemented with [Noty library](http://ned.im/noty/)) corresponding to "NotificationType" parameter can be seen in this table:

![ActivityStream](/Docs/img/ToastMessageTable.png)

Example usage of these messages can be found in [App Builder Activity](Docs/ForDevelopers/OperatingConcepts/Apps.md) which is optimized visually for mobile screen sizes. Absence of Activity Stream causes usage of toast messages in Kiosk mode.


[Go to Contents]( /Docs/Home.md)
