<div>
    <span>{{::field.label}}</span>
    <div style="margin-top: 15px;">
        <div ng-repeat="crate in field.crateDescriptions" ng-if="crate.selected">
            <div class="media">
                <div class="media-left">
                    <span class="glyphicon glyphicon-tasks" style="font-size: 25px;padding-top: 15px;"></span>
                </div>
                <div class="media-body">
                    <h4 class="media-heading">{{::crate.manifestType}}</h4>
                    {{::crate.label}}
                </div>
            </div>
        </div>
        <div class="col-md-12" style="margin-top: 20px;">
            <a class="btn btn-primary" style="margin-top: 10px;" ng-click="selectCrate()" stop-click-propagation>Select...</a>
        </div>
    </div>
</div>
<script type="text/ng-template" id="TextTemplate-CrateChooserSelectionModal">
    <div class="modal-header">
        <h3 class="modal-title">Select Crate</h3>
    </div>
    <div class="modal-body">
        <div ng-if="crateDescriptions.length > 0">
            <div ivh-treeview="crateDescriptions" ivh-treeview-node-tpl="tpl"></div>
        </div>
        <div ng-if="crateDescriptions.length == 0">
            No RunTime-Available Upstream Crate was found
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
        <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
    </div>
</script>

<script type="text/ng-template" id="TextTemplate-CrateNode">
    <div class="crate-node">
        <div class="crate-node-leaf" ng-if="!node.isCategory">
            <div class="row">
                <div class="col-md-1">
                    <span>
                        <span ng-show="node.selected" class="glyphicon glyphicon-check green"></span>
                        <span ng-hide="node.selected || node.__ivhTreeviewIndeterminate" class="glyphicon glyphicon-unchecked"></span>
                    </span>
                </div>
                <div class="col-md-2">
                    <span ng-class="{'green': node.selected}" class="crate-icon" ivh-treeview-twistie></span>
                </div>
                <div class="col-md-7 data">
                    <span class="ivh-treeview-node-label" ivh-treeview-toggle>
                        <div class="row">
                            <div class="col-md-12" style="cursor:pointer;">Label: <b>{{:: node.label}}</b></div>
                            <div class="col-md-12" style="cursor:pointer;">Generated By: <b>{{:: node.producedBy}}</b></div>
                        </div>
                    </span>
                </div>
            </div>
        </div>
        <div ng-if="node.isCategory">
            <span class="category-glyph" ivh-treeview-twistie ivh-treeview-toggle></span>
            <span class="ivh-treeview-node-label crate-node-category" ivh-treeview-toggle>
                {{:: trvw.label(node)}}
            </span>
            <div ivh-treeview-children></div>
        </div>
    </div>
</script>

